<!doctype html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Example-SMART-App</title>

    <link
      rel="stylesheet"
      type="text/css"
      href="./src/css/example-smart-app.css"
    />
    <link rel="stylesheet" href="./src/output.css" />
    <!--
      Temporarily disable cerner-smart-embeddable-lib
      <link rel='stylesheet' type='text/css' href='./lib/css/cerner-smart-embeddable-lib-1.0.0.min.css'>
    -->
  </head>

  <body class="bg-azo_gray">
    <div id="errors"></div>
    <div id="loading" class="spinner">
      <div class="bounce1"></div>
      <div class="bounce2"></div>
      <div class="bounce3"></div>
    </div>
    <div id="holder" class="">
      <div class="p-8">
        <h1 class="text-2xl font-semibold">Lab Order Interaction</h1>
        <div class="mt-8 w-full rounded-lg bg-white p-6">
          <h1 class="text-lg font-semibold">
            Patient Information (from EMR Patient Chart)
          </h1>
          <div class="mt-8 grid grid-cols-3 gap-x-8 gap-y-8">
            <div class="">
              <div class="flex justify-between">
                <h1 class="text-sm font-normal">Patient Name</h1>
                <div class="rounded-full px-3 py-1" id="patient-name-label">
                  <h2
                    class="text-xs font-normal"
                    id="patient-name-label-text"
                  ></h2>
                </div>
              </div>
              <h1
                id="patient-name"
                class="mt text-lg font-normal text-azo_darkGray"
              >
                Peter
              </h1>
            </div>
            <div class="">
              <div class="flex justify-between">
                <h1 class="text-sm font-normal">Date of Birth</h1>
                <div class="rounded-full px-3 py-1" id="patient-dob-label">
                  <h2
                    class="text-xs font-normal"
                    id="patient-dob-label-text"
                  ></h2>
                </div>
              </div>
              <h1
                id="patient-dob"
                class="mt text-lg font-normal text-azo_darkGray"
              >
                26-05-2001
              </h1>
            </div>
            <div class="">
              <div class="flex justify-between">
                <h1 class="text-sm font-normal">Sex at Birth</h1>
                <div class="rounded-full px-3 py-1" id="patient-sex-label">
                  <h2
                    class="text-xs font-normal"
                    id="patient-sex-label-text"
                  ></h2>
                </div>
              </div>
              <h1
                id="patient-sex"
                class="mt text-lg font-normal text-azo_darkGray"
              >
                Male
              </h1>
            </div>
            <div class="">
              <div class="flex justify-between">
                <h1 class="text-sm font-normal">Address</h1>
                <div
                  class="rounded-full bg-azo_purple px-3 py-1"
                  id="patient-address-label"
                >
                  <h2
                    class="text-xs font-normal text-azo_darkPurple"
                    id="patient-address-label-text"
                  >
                    EHR
                  </h2>
                </div>
              </div>
              <h1
                id="patient-address"
                class="mt text-lg font-normal text-azo_darkGray"
              >
                123, XYZ Street, ABC City
              </h1>
            </div>
            <div class="">
              <div class="flex justify-between">
                <h1 class="text-sm font-normal">Patient ID</h1>
                <div
                  class="rounded-full bg-azo_purple px-3 py-1"
                  id="patient-id-label"
                >
                  <h2
                    class="text-xs font-normal text-azo_darkPurple"
                    id="patient-id-label-text"
                  >
                    EHR
                  </h2>
                </div>
              </div>
              <h1
                id="patient-id"
                class="mt text-lg font-normal text-azo_darkGray"
              >
                224454
              </h1>
            </div>
            <div class="">
              <div class="flex justify-between">
                <h1 class="text-sm font-normal">Phone Number</h1>
                <div
                  class="rounded-full bg-azo_purple px-3 py-1"
                  id="patient-phone-label"
                >
                  <h2
                    class="text-xs font-normal text-azo_darkPurple"
                    id="patient-phone-label-text"
                  >
                    EHR
                  </h2>
                </div>
              </div>
              <h1
                id="patient-phone"
                class="mt text-lg font-normal text-azo_darkGray"
              >
                +1 2299962466
              </h1>
            </div>
            <div class="">
              <div class="flex justify-between">
                <h1 class="text-sm font-normal">Policy ID</h1>
                <div
                  class="rounded-full bg-azo_purple px-3 py-1"
                  id="patient-policy-label"
                >
                  <h2
                    class="text-xs font-normal text-azo_darkPurple"
                    id="patient-policy-label-text"
                  >
                    EHR
                  </h2>
                </div>
              </div>
              <h1
                id="patient-policy"
                class="mt text-lg font-normal text-azo_darkGray"
              >
                123456
              </h1>
            </div>
            <div class="">
              <div class="flex justify-between">
                <h1 class="text-sm font-normal">Policy Status</h1>
                <div
                  class="rounded-full bg-azo_purple px-3 py-1"
                  id="policy-status-label"
                >
                  <h2
                    class="text-xs font-normal text-azo_darkPurple"
                    id="policy-status-label-text"
                  >
                    EHR
                  </h2>
                </div>
              </div>
              <h1
                id="policy-status"
                class="mt text-lg font-normal text-azo_darkGray"
              >
                1234562
              </h1>
            </div>
            <div class="">
              <div class="flex justify-between">
                <h1 class="text-sm font-normal">Policy Payor</h1>
                <div
                  class="rounded-full bg-azo_purple px-3 py-1"
                  id="policy-payer-label"
                >
                  <h2
                    class="text-xs font-normal text-azo_darkPurple"
                    id="policy-payer-label-text"
                  >
                    EHR
                  </h2>
                </div>
              </div>
              <h1
                id="policy-payer"
                class="mt text-lg font-normal text-azo_darkGray"
              >
                1234562
              </h1>
            </div>
          </div>
        </div>
        <div class="mt-8 w-full rounded-lg bg-white p-6">
          <h1 class="text-lg font-semibold">
            Patient Family History ( from EMR )
          </h1>
          <table class="table-auto border-collapse" id="family-history">
            <tr class="border-b">
              <th class="px-4 py-2">Name</th>
              <th class="px-4 py-2">Relation</th>
              <th class="px-4 py-2">Condition</th>
            </tr>
            <!-- <tr class="border-b bg-white">
              <td class="px-4 py-2">John Doe</td>
              <td class="px-4 py-2">Father</td>
              <td class="px-4 py-2">Diabetes</td>
            </tr>
            <tr class="border-b bg-white">
              <td class="px-4 py-2">John Doe</td>
              <td class="px-4 py-2">Father</td>
              <td class="px-4 py-2">Diabetes</td>
            </tr> -->
          </table>
        </div>
        <div class="mt-8 w-full rounded-lg bg-white p-6">
          <h1 class="text-lg font-semibold">
            Patient Answered Questionnaire (from external system)
          </h1>
          <div class="mt-8 grid grid-cols-3 gap-x-8 gap-y-8">
            <div class="">
              <h1 class="text-sm font-normal">You have any Allergies?</h1>
              <h1 id="q-1" class="mt-2 text-lg font-normal text-azo_darkGray">
                Penicillin
              </h1>
            </div>
            <div class="">
              <h1 class="text-sm font-normal">
                What is your current medications?
              </h1>
              <h1 id="q-2" class="mt-2 text-lg font-normal text-azo_darkGray">
                Penicillin
              </h1>
            </div>
            <div class="">
              <h1 class="text-sm font-normal">Previous Lab Result</h1>
              <h1 id="q-3" class="mt-2 text-lg font-normal text-azo_darkGray">
                Penicillin#123
              </h1>
            </div>
            <div class="">
              <h1 class="text-sm font-normal">What is your reason for test?</h1>
              <h1 id="q-4" class="mt-2 text-lg font-normal text-azo_darkGray">
                23#SDFSA
              </h1>
            </div>
            <div class="">
              <h1 class="text-sm font-normal">Patient First Name</h1>
              <h1 id="q-5" class="mt-2 text-lg font-normal text-azo_darkGray">
                Smith
              </h1>
            </div>
            <div class="">
              <h1 class="text-sm font-normal">Patient Last Name</h1>
              <h1 id="q-6" class="mt-2 text-lg font-normal text-azo_darkGray">
                John
              </h1>
            </div>
          </div>
        </div>
        <div class="mt-8 w-full rounded-lg bg-white p-6">
          <h1 class="text-lg font-semibold">
            Provider Order Submission Input (stored in EMR and/or external
            system)
          </h1>
          <div class="mt-8 grid grid-cols-3 gap-x-8 gap-y-8">
            <div class="">
              <h1 class="text-sm font-normal">Provider Name</h1>
              <h1
                id="p-1"
                class="mt-2 text-lg font-normal text-azo_darkGray"
              ></h1>
            </div>
            <div class="">
              <h1 class="text-sm font-normal">Provider ID</h1>
              <h1
                id="p-2"
                class="mt-2 text-lg font-normal text-azo_darkGray"
              ></h1>
            </div>
            <div class="col-span-3">
              <h1 class="text-sm font-normal">Provider Notes</h1>
              <textarea
                id="p-3"
                class="mt-2 h-24 w-full rounded-lg p-2 text-lg font-normal text-azo_darkGray ring-1 ring-[#919BF3]"
                placeholder="Enter notes here"
              ></textarea>
            </div>
          </div>
        </div>
        <div class="mt-8 flex w-full items-center justify-end gap-8">
          <button
            class="rounded-md border border-black px-6 py-3 font-inter text-base font-medium"
          >
            Cancel
          </button>
          <button
            id="submit-lab-order"
            type="submit"
            class="rounded-md bg-black px-6 py-3 font-semibold text-white disabled:cursor-not-allowed disabled:opacity-50"
          >
            Submit Lab Order
          </button>
        </div>
      </div>
    </div>
    <!-- Required JS files to enable this page to embed within an MPage -->
    <!--
      Temporarily disable cerner-smart-embeddable-lib
      <script src='https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/6.26.0/polyfill.min.js'></script>
      <script src='./lib/js/cerner-smart-embeddable-lib-1.0.0.min.js'></script>
    -->

    <!-- Application-level javascript-->
    <script src="./src/js/example-smart-app.js"></script>

    <!-- FHIR Client JS Library -->
    <script src="./lib/js/fhir-client-v0.1.12.js"></script>

    <!-- Prevent session bleed caused by single threaded embedded browser and sessionStorage API -->
    <!-- https://github.com/cerner/fhir-client-cerner-additions -->
    <script src="./lib/js/fhir-client-cerner-additions-1.0.0.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>
      extractData().then(
        //Display Patient Demographics and Observations if extractData was success
        function (p) {
          drawVisualization(p);
        },

        //Display 'Failed to call FHIR Service' if extractData failed
        function () {
          $("#loading").hide();
          $("#errors").html("<p> Failed to call FHIR Service </p>");
        },
      );
    </script>
  </body>
</html>
